<h1>received invites</h1>
<p>Hi <%=@user.username%>, here are all your received invites</p>
<p><%=Invite.pending_invites_for_guest(@user)%> pending received invites</p>
<%@invites.each do |invite|%>
    <ul>
        <li>Event: <%= link_to invite.event.title, user_event_path(invite.host, invite.event)%></li>
        <li>Host: <%= link_to invite.host.username, invite.host%></li>
        <li>Guest: <%= link_to invite.guest.username, invite.guest%></li>
        <li>Staus: <% if invite.status == 1%>Accepted<%elsif invite.status == 0%>Pending<%else%>Rejected<%end%></li>
        <% if invite.status == 0%>
            <%=render "responses/form", invite: invite%>
        <% else%>
            <%if !invite.response.message.empty?%>
                Response:<%=invite.response.message%>
            <%end%>
            <li>
                <%= link_to "destroy received invite", destroy_received_invite_user_invite_path(@user, invite), data:{
                    turbo_method: :delete,
                    turbo_confirm: "Are you sure?"
                }%> <br>
            </li>
        <%end%>
        
    </ul>
<%end%>
<%=link_to "back to user profile", @user%>